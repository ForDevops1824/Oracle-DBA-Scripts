Backup or restore until clause:

https://docs.oracle.com/en/database/oracle/oracle-database/19/rcmrf/untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A

Backup Formats:

http://www.juliandyke.com/Research/RMAN/Formats.php

The following substitiion variables can be used:

%a	Database Activition ID
%b	Base name - only vaied for SET NEWNAME and image copies
%c	Backup piece copy number
%d	Database name
%D	Day of month (DD)
%e	Archive log sequence number
%f	Absolute file number
%F	System-generated name. See below
%h	Archived redo log thread number
%I	DBID
%M	Month (MM)
%N	Tablespace name
%n	Database name - Right padded with 'x' character e.g. TESTxxxx
%p	Piece number within backup set
%s	Backup set number
%t	Backup set timestamp. Use with %s to provide unique name
%T	Date (YYYYMMDD)
%u	Short system generated file name. See below
%U	Long System generated file name. See below
%Y	Year (YYYY)
%%	Percent (%) character



Script name: vi Backup_02122022.sh

$ rman @Backup_02122022.sh

Nohup Command: nohup rman target / cmdfile=Backup_02122022.sh log=Backup_02122022.log &


Full backup Disk level with Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch2 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch3 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch4 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch5 DEVICE TYPE DISK;
BACKUP AS COMPRESSED BACKUPSET INCREMENTAL LEVEL 0 FORMAT '/backup_new/DATAPUMP/DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP;
BACKUP AS COMPRESSED BACKUPSET ARCHIVELOG ALL  FORMAT '/backup_new/DATAPUMP/ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE  FORMAT '/backup_new/DATAPUMP/ctl%d_ctl_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT '/backup_new/DATAPUMP/STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT '/backup_new/DATAPUMP/SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}



Full backup Disk level without compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch2 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch3 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch4 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch5 DEVICE TYPE DISK;
BACKUP LEVEL 0 FORMAT '/backup_new/DATAPUMP/DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP;
BACKUP ARCHIVELOG ALL  FORMAT '/backup_new/DATAPUMP/ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE  FORMAT '/backup_new/DATAPUMP/ctl%d_ctl_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT '/backup_new/DATAPUMP/STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT '/backup_new/DATAPUMP/SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}


Full Backup Tape level with Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run 
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch2 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch3 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch4 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch5 DEVICE TYPE 'SBT_TAPE';
send 'NSR_ENV=(NSR_SERVER=MUDPVTLBKP01.DS.INDIANOIL.IN,NSR_CLIENT=mudcporaind01-vip,NSR_DATA_VOLUME_POOL=OraBkp)';
BACKUP AS COMPRESSED BACKUPSET INCREMENTAL LEVEL 0 FORMAT 'DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP; 
BACKUP AS COMPRESSED BACKUPSET ARCHIVELOG ALL FORMAT 'ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FORMAT 'CTL1_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT 'STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT 'SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}



Full backup Tape level without compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run 
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch2 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch3 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch4 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch5 DEVICE TYPE 'SBT_TAPE';
send 'NSR_ENV=(NSR_SERVER=MUDPVTLBKP01.DS.INDIANOIL.IN,NSR_CLIENT=mudcporaind01-vip,NSR_DATA_VOLUME_POOL=OraBkp)';
BACKUP INCREMENTAL LEVEL 0 FORMAT 'DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP; 
BACKUP ARCHIVELOG ALL FORMAT 'ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FORMAT 'CTL1_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT 'STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT 'SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}

============================================================================================================================================================================================================

Incr differential backup Disk level with Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch2 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch3 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch4 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch5 DEVICE TYPE DISK;
BACKUP AS COMPRESSED BACKUPSET INCREMENTAL LEVEL 1 FORMAT '/backup_new/DATAPUMP/DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP;
BACKUP AS COMPRESSED BACKUPSET ARCHIVELOG ALL  FORMAT '/backup_new/DATAPUMP/ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE  FORMAT '/backup_new/DATAPUMP/ctl%d_ctl_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT '/backup_new/DATAPUMP/STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT '/backup_new/DATAPUMP/SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}

Incr differential backup Disk level without Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch2 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch3 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch4 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch5 DEVICE TYPE DISK;
BACKUP INCREMENTAL LEVEL 1 FORMAT '/backup_new/DATAPUMP/DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP;
BACKUP AS COMPRESSED BACKUPSET ARCHIVELOG ALL  FORMAT '/backup_new/DATAPUMP/ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE  FORMAT '/backup_new/DATAPUMP/ctl%d_ctl_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT '/backup_new/DATAPUMP/STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT '/backup_new/DATAPUMP/SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}

Incr Cumulative backup Disk level with Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch2 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch3 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch4 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch5 DEVICE TYPE DISK;
BACKUP AS COMPRESSED BACKUPSET INCREMENTAL LEVEL 1 CUMULATIVE FORMAT '/backup_new/DATAPUMP/DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP;
BACKUP AS COMPRESSED BACKUPSET ARCHIVELOG ALL  FORMAT '/backup_new/DATAPUMP/ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE  FORMAT '/backup_new/DATAPUMP/ctl%d_ctl_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT '/backup_new/DATAPUMP/STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT '/backup_new/DATAPUMP/SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}


Incr Cumulative backup Disk level without Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch2 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch3 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch4 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch5 DEVICE TYPE DISK;
BACKUP INCREMENTAL LEVEL 1 CUMULATIVE FORMAT '/backup_new/DATAPUMP/DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP;
BACKUP AS COMPRESSED BACKUPSET ARCHIVELOG ALL  FORMAT '/backup_new/DATAPUMP/ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE  FORMAT '/backup_new/DATAPUMP/ctl%d_ctl_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT '/backup_new/DATAPUMP/STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT '/backup_new/DATAPUMP/SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}


Incr differential backup Tape level with Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run 
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch2 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch3 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch4 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch5 DEVICE TYPE 'SBT_TAPE';
send 'NSR_ENV=(NSR_SERVER=MUDPVTLBKP01.DS.INDIANOIL.IN,NSR_CLIENT=mudcporaind01-vip,NSR_DATA_VOLUME_POOL=OraBkp)';
BACKUP AS COMPRESSED BACKUPSET INCREMENTAL LEVEL 1 FORMAT 'DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP; 
BACKUP ARCHIVELOG ALL FORMAT 'ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FORMAT 'CTL1_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT 'STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT 'SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}

Incr differential backup Tape level without Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run 
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch2 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch3 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch4 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch5 DEVICE TYPE 'SBT_TAPE';
send 'NSR_ENV=(NSR_SERVER=MUDPVTLBKP01.DS.INDIANOIL.IN,NSR_CLIENT=mudcporaind01-vip,NSR_DATA_VOLUME_POOL=OraBkp)';
BACKUP INCREMENTAL LEVEL 1 FORMAT 'DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP; 
BACKUP ARCHIVELOG ALL FORMAT 'ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FORMAT 'CTL1_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT 'STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT 'SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}


Incr Cumulative backup Tape level with Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run 
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch2 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch3 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch4 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch5 DEVICE TYPE 'SBT_TAPE';
send 'NSR_ENV=(NSR_SERVER=MUDPVTLBKP01.DS.INDIANOIL.IN,NSR_CLIENT=mudcporaind01-vip,NSR_DATA_VOLUME_POOL=OraBkp)';
BACKUP AS COMPRESSED BACKUPSET INCREMENTAL LEVEL 1 CUMULATIVE FORMAT 'DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP; 
BACKUP ARCHIVELOG ALL FORMAT 'ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FORMAT 'CTL1_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT 'STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT 'SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}



Incr Cumulative backup Tape level without Compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run 
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch2 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch3 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch4 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch5 DEVICE TYPE 'SBT_TAPE';
send 'NSR_ENV=(NSR_SERVER=MUDPVTLBKP01.DS.INDIANOIL.IN,NSR_CLIENT=mudcporaind01-vip,NSR_DATA_VOLUME_POOL=OraBkp)';
BACKUP INCREMENTAL LEVEL 1 CUMULATIVE FORMAT 'DTF_full_%d_%u_%s_%D_%M_%Y' DATABASE;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP; 
BACKUP ARCHIVELOG ALL FORMAT 'ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FORMAT 'CTL1_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT 'STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT 'SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}



To Find Current Scn:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

SQL> col current_scn for 99999999999999999999;
SQL> select current_scn from v$database;

          CURRENT_SCN
---------------------
        1033459246604


SQL> set lines 9999
SQL> set pages 9999
SQL> select to_char(current_scn) , SCN_TO_TIMESTAMP(current_scn) from v$database;

TO_CHAR(CURRENT_SCN)                     SCN_TO_TIMESTAMP(CURRENT_SCN)
---------------------------------------- ---------------------------------------------------------------------------
1033459298095                            18-DEC-22 12.24.39.000000000 AM


To Find Scn for Particular time:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

SQL> col scn for 99999999999999999999;
SQL> select timestamp_to_scn(to_timestamp('18-12-2022-00:16:00','DD-MM-YYYY-HH24-MI-SS')) scn from dual;

                  SCN
---------------------
        1033457333703

SQL>

To Find Time for Particular Scn:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

SQL> select to_char(1033457333703) , SCN_TO_TIMESTAMP(1033457333703) from v$database;

TO_CHAR(10334 SCN_TO_TIMESTAMP(1033457333703)
------------- ---------------------------------------------------------------------------
1033457333703 18-DEC-22 12.15.58.000000000 AM

SQL>




SCN incr Backup Disk Level without compression:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run
{
ALLOCATE CHANNEL ch1 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch2 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch3 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch4 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch5 DEVICE TYPE DISK;
BACKUP AS COMPRESSED BACKUPSET INCREMENTAL FROM SCN 928977359591 DATABASE FORMAT '/backup/scn_backup/LVL1_%d_t%t_s%s_%U';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT '/backup/scn_backup/ForStandbyCTRL.bck';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}




Archive Log backup Disk level:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

run
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch2 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch3 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch4 DEVICE TYPE DISK;
ALLOCATE CHANNEL ch5 DEVICE TYPE DISK;
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP;
BACKUP ARCHIVELOG ALL  FORMAT '/backup_new/DATAPUMP/ARCH_%d_%u_%s_%D_%M_%Y';
#BACKUP AS COMPRESSED BACKUPSET ARCHIVELOG ALL  FORMAT '/backup_new/DATAPUMP/ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE  FORMAT '/backup_new/DATAPUMP/ctl%d_ctl_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT '/backup_new/DATAPUMP/STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT '/backup_new/DATAPUMP/SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}


Archive Log backup tape level:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx



run 
{
#configure controlfile autobackup on;
ALLOCATE CHANNEL ch1 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch2 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch3 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch4 DEVICE TYPE 'SBT_TAPE';
ALLOCATE CHANNEL ch5 DEVICE TYPE 'SBT_TAPE';
send 'NSR_ENV=(NSR_SERVER=MUDPVTLBKP01.DS.INDIANOIL.IN,NSR_CLIENT=mudcporaind01-vip,NSR_DATA_VOLUME_POOL=OraBkp)';
#CROSSCHECK ARCHIVELOG ALL;
#DELETE NOPROMPT ARCHIVELOG UNTIL TIME 'SYSDATE-2';
#DELETE NOPROMPT EXPIRED ARCHIVELOG ALL;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#ALTER SYSTEM ARCHIVE LOG CURRENT;
#CROSSCHECK BACKUP;
#DELETE NOPROMPT EXPIRED BACKUP; 
BACKUP ARCHIVELOG ALL FORMAT 'ARCH_%d_%u_%s_%D_%M_%Y';
#BACKUP AS COMPRESSED BACKUPSET ARCHIVELOG ALL FORMAT 'ARCH_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FORMAT 'CTL1_%d_%u_%s_%D_%M_%Y';
BACKUP CURRENT CONTROLFILE FOR STANDBY FORMAT 'STBY_CTL_%d_%u_%s_%D_%M_%Y';
BACKUP SPFILE  FORMAT 'SPFILE_%d_%u_%s_%D_%M_%Y';
RELEASE  CHANNEL ch1;
RELEASE  CHANNEL ch2;
RELEASE  CHANNEL ch3;
RELEASE  CHANNEL ch4;
RELEASE  CHANNEL ch5;
}


Tablespace Backup:

https://docs.oracle.com/cd/E25054_01/backup.1111/e10642/osbackup.htm


Datafile Backup:

https://www.dba-oracle.com/t_rman_56_backup_datafiles.htm